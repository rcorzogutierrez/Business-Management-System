<!-- workers-config.component.html -->

<div class="app-container">

  <!-- ========== HEADER - Usando ModuleHeaderComponent ========== -->
  <app-module-header
    icon="settings"
    title="Configuración de Trabajadores"
    subtitle="Personaliza el comportamiento de la tabla de datos"
    moduleColor="amber"
    [showBackButton]="true"
    backButtonTooltip="Volver a trabajadores"
    [actionButtons]="headerActions()"
    (backAction)="goBack()">
  </app-module-header>

  <!-- LOADING STATE -->
  @if (isLoading) {
    <div class="bg-white rounded-xl border border-slate-200 shadow-sm p-12 flex flex-col items-center justify-center animate-fadeIn">
      <div class="loading-spinner"></div>
      <p class="text-sm text-slate-500 mt-3">Cargando configuración...</p>
    </div>
  }

  <!-- ============================================
       CONFIGURACIÓN DE LA TABLA - Usando componente compartido
       ============================================ -->
  @if (!isLoading && gridConfig()) {
    <app-grid-config-section
      [gridConfig]="gridConfig()"
      moduleColor="amber"
      entityLabel="trabajadores"
      [pageSizeOptions]="pageSizeOptions"
      [itemsPerPage]="itemsPerPageSignal()"
      [isLoading]="isLoading"
      [allFeaturesEnabled]="allFeaturesEnabled()"
      (configChange)="onConfigChange($event)"
      (toggleAll)="toggleAllFeatures()"
    />
  }

</div>
