<!-- pagination.component.html -->
<div class="pagination-bar">
  <!-- Left: Info + Page Size Selector -->
  <div class="flex items-center gap-4">
    <!-- Info de registros -->
    <span class="text-xs text-slate-600">
      @if (mode === 'client' && totalItems !== undefined) {
        {{ getDisplayRange() }}
      } @else if (mode === 'server') {
        {{ getServerPageInfo() }}
      }
    </span>

    <!-- Page Size Selector - BOTONES en lugar de select -->
    <div class="flex items-center gap-2">
      <label class="text-xs text-slate-600 font-medium">Registros:</label>
      <div class="flex gap-1">
        @for (size of pageSizeOptions; track size) {
          <button
            type="button"
            (click)="onPageSizeChange(size)"
            [disabled]="isLoading"
            [class]="size === itemsPerPage
              ? 'px-2 py-1 text-white text-xs font-semibold rounded-lg transition-colors ' + getActiveButtonClass()
              : 'px-2 py-1 bg-white border border-slate-300 text-slate-700 text-xs font-medium rounded-lg hover:border-slate-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed'">
            {{ size }}
          </button>
        }
      </div>
    </div>
  </div>

  <!-- Right: Navigation Controls -->
  <div class="flex items-center gap-1">
    <button type="button"
            class="pagination-btn"
            (click)="goToPreviousPage()"
            [disabled]="!canGoPrevious()"
            [title]="'Página anterior'">
      <mat-icon>chevron_left</mat-icon>
    </button>

    <span class="text-xs font-medium text-slate-700 px-2" [class]="isLoading ? getLoadingTextClass() : ''">
      {{ getCurrentPageDisplay() }}
    </span>

    <button type="button"
            class="pagination-btn"
            (click)="goToNextPage()"
            [disabled]="!canGoNext()"
            [title]="'Página siguiente'">
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>
</div>
